{"ast":null,"code":"import _classCallCheck from \"/Users/jake/dev/2019/excelsior/excelsior-front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jake/dev/2019/excelsior/excelsior-front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jake/dev/2019/excelsior/excelsior-front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jake/dev/2019/excelsior/excelsior-front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jake/dev/2019/excelsior/excelsior-front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/jake/dev/2019/excelsior/excelsior-front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/jake/dev/2019/excelsior/excelsior-front/client/src/Search/Search.js\";\nimport React, { Component } from 'react';\nimport \"./buildQuery.js\";\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Popup from 'reactjs-popup';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport ResultsPage from \"../ResultsPage/ResultsPage.js\";\nimport axios from 'axios';\nimport buildQuery from \"./Search.css\";\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Search, _Component);\n\n  function Search(props) {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this, props));\n    _this.state = {\n      apiURL: '',\n      name: '',\n      civName: '',\n      alignment: '',\n      team: '',\n      ability: '',\n      company: '',\n      searchResults: [],\n      searchedOnce: false,\n      username: '',\n      password: ''\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  } //handle the submit using this.\n\n\n  _createClass(Search, [{\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this2 = this;\n\n      console.log(\"the response objects: \".concat(this.state.searchResults));\n      event.preventDefault();\n      var query = buildQuery(this.state);\n      this.setState({\n        apiURL: query\n      }, function () {\n        axios.get(state.apiURL).then(function (response) {\n          _this2.setState({\n            searchResults: response.data,\n            searchedOnce: true\n          }, function () {// console.log(state.apiURL);\n            // console.log(state.searchResults);\n            // console.log(state.searchedOnce);\n          });\n        }).catch(function (error) {\n          // handle error\n          console.log(error);\n        }).then(function () {// always executed\n          // console.log('good search');\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"searchbar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, this.props.isAuthed ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        className: \"link-bar\",\n        container: true,\n        spacing: 24,\n        justify: \"flex-end\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xl: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/upload\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"CREATE A CHARACTER\"))), React.createElement(Grid, {\n        item: true,\n        xl: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: this.props.handleLogout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"LOG OUT\")))) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        className: \"link-bar\",\n        container: true,\n        spacing: 24,\n        justify: \"flex-end\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        sm: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(Popup, {\n        trigger: React.createElement(Button, {\n          className: \"admin-button\",\n          variant: \"contained\",\n          color: \"primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, \"ADMIN\"),\n        modal: true,\n        closeOnDocumentClick: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, function (close) {\n        return React.createElement(\"div\", {\n          className: \"modal\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"close\",\n          onClick: function onClick() {\n            close();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, \"\\xD7\"), React.createElement(\"form\", {\n          onSubmit: function onSubmit() {\n            _this3.props.handleLogin(_this3.state.username, _this3.state.password);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, \"Username\", React.createElement(\"input\", {\n          type: \"text\",\n          value: _this3.state.username,\n          onChange: function onChange(event) {\n            return _this3.setState({\n              username: event.target.value\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        })), React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, \"Password\", React.createElement(\"input\", {\n          type: \"text\",\n          value: _this3.state.password,\n          onChange: function onChange(event) {\n            return _this3.setState({\n              password: event.target.value\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        })), React.createElement(\"input\", {\n          type: \"submit\",\n          value: \"LOG IN\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        })));\n      })))), React.createElement(\"div\", {\n        className: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"EXCELSIOR\"), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"The Superhero Database\")), React.createElement(\"form\", {\n        className: \"search-form\",\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        spacing: 8,\n        alignItems: \"center\",\n        justify: \"center\",\n        direction: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"Character Name\"), React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.name,\n        onChange: function onChange(event) {\n          return _this3.setState({\n            name: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      })), React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"Alignment\"), React.createElement(\"select\", {\n        onChange: function onChange(event) {\n          return _this3.setState({\n            alignment: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"-\"), React.createElement(\"option\", {\n        value: \"Hero\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Hero\"), React.createElement(\"option\", {\n        value: \"Villain\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Villain\"), React.createElement(\"option\", {\n        value: \"Antihero\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"Antihero\"))), React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"Team\"), React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.team,\n        onChange: function onChange(event) {\n          return _this3.setState({\n            team: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      })), React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Publisher\"), React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.company,\n        onChange: function onChange(event) {\n          return _this3.setState({\n            company: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      })), React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"SEARCH\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"circuit-background\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(ResultsPage, {\n        searchResults: this.state.searchResults,\n        searchedOnce: this.state.searchedOnce,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nexport default Search;","map":{"version":3,"sources":["/Users/jake/dev/2019/excelsior/excelsior-front/client/src/Search/Search.js"],"names":["React","Component","Button","Grid","Popup","BrowserRouter","Router","Route","Link","ResultsPage","axios","buildQuery","Search","props","state","apiURL","name","civName","alignment","team","ability","company","searchResults","searchedOnce","username","password","handleSubmit","bind","event","console","log","preventDefault","query","setState","get","then","response","data","catch","error","isAuthed","handleLogout","close","handleLogin","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport \"./buildQuery.js\"\n\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\n\nimport Popup from 'reactjs-popup';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport ResultsPage from \"../ResultsPage/ResultsPage.js\";\nimport axios from 'axios';\nimport buildQuery from \"./Search.css\";\n\nclass Search extends Component {\n\n    constructor(props) {\n\n        super(props);\n        this.state = {\n        apiURL: '',\n        name: '',\n        civName: '',\n        alignment: '',\n        team: '',\n        ability: '',\n        company: '',\n        searchResults: [],\n        searchedOnce: false,\n        username: '',\n        password: '',\n        }\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n  \n  //handle the submit using this.\n    handleSubmit(event) {\n        console.log(`the response objects: ${this.state.searchResults}`);\n        event.preventDefault();\n\n        const query = buildQuery(this.state)  \n\n        this.setState({apiURL: query},() => {       \n            axios.get(state.apiURL).then((response) => {\n                this.setState({searchResults: response.data, searchedOnce: true}, () => {\n                    // console.log(state.apiURL);\n                    // console.log(state.searchResults);\n                    // console.log(state.searchedOnce);\n                });\n            })\n            .catch((error) => {\n                // handle error\n                console.log(error);\n            })\n            .then(() =>  {\n                // always executed\n                // console.log('good search');\n            });\n        });\n\n           \n    }\n  \n    render() {\n        return (\n            <div className=\"App\">\n                <div className=\"searchbar\">\n                    {\n                    this.props.isAuthed ? \n                        <div>\n                            <Grid className=\"link-bar\" container spacing={24} justify=\"flex-end\">\n                                <Grid item xl={1}>\n                                    <Button variant=\"contained\" color=\"primary\"><Link to=\"/upload\">CREATE A CHARACTER</Link></Button>\n                                </Grid>\n                                <Grid item xl={1}>\n                                    <Button variant=\"contained\" color=\"primary\" onClick={this.props.handleLogout}>LOG OUT</Button>\n                                </Grid>\n                            </Grid>\n                        </div>\n                        : \n                        <div>\n                        <Grid className=\"link-bar\" container spacing={24} justify=\"flex-end\">\n                            <Grid item sm={1}>\n                                <Popup trigger={<Button className=\"admin-button\" variant=\"contained\" color=\"primary\">ADMIN</Button>} modal closeOnDocumentClick >\n                                {close => (\n                                    <div className=\"modal\">\n                                        <a className=\"close\" onClick={() => {close()}}>\n                                            &times;\n                                        </a>\n                                        <form onSubmit={() => {this.props.handleLogin(this.state.username, this.state.password)}}  >\n                                            <label>\n                                                Username\n                                                <input type=\"text\" value={this.state.username} onChange={ event => this.setState({ username: event.target.value })} />\n                                            </label>\n                                            <label>\n                                                Password\n                                                <input type=\"text\" value={this.state.password} onChange={ event => this.setState({ password: event.target.value })} />\n                                            </label>\n                                            <input type=\"submit\" value=\"LOG IN\" />\n                                        </form>\n                                    </div>\n                                )}\n                                </Popup>\n                            </Grid>\n                        </Grid>    \n                    </div>    \n                    }\n                    <div className=\"logo\">\n                        <h1>EXCELSIOR</h1>\n                        <h2>The Superhero Database</h2>\n                    </div>\n                    <form className=\"search-form\" onSubmit={this.handleSubmit}>\n                        <Grid container spacing={8} alignItems=\"center\" justify=\"center\" direction=\"row\"> \n                            <Grid item xs={12}>\n                            <label>Character Name</label>\n                                <input  type=\"text\" value={this.state.name} onChange={ event => this.setState({ name: event.target.value })} />\n                            </Grid>\n                            <Grid item xs={12}>\n                                <label>Alignment</label>\n                                <select onChange={event => this.setState({ alignment: event.target.value })}>\n                                    <option value=\"\">-</option>\n                                    <option value=\"Hero\">Hero</option>\n                                    <option value=\"Villain\">Villain</option>\n                                    <option value=\"Antihero\">Antihero</option>\n                                </select>\n                            </Grid>\n                            <Grid item xs={12}>\n                                <label>Team</label>\n                                <input type=\"text\" value={this.state.team} onChange={ event => this.setState({ team: event.target.value })} />\n                            </Grid>\n                            <Grid item xs={12}>\n                                <label>Publisher</label>\n                                <input type=\"text\" value={this.state.company} onChange={ event => this.setState({ company: event.target.value })} />\n                            </Grid>\n                            <Grid item xs={12}>\n                                <input type=\"submit\" value=\"SEARCH\" />\n                            </Grid>\n                        </Grid>\n                    </form>\n                </div>\n                <div className=\"circuit-background\">   \n                    <ResultsPage searchResults={this.state.searchResults} searchedOnce={this.state.searchedOnce}/>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}